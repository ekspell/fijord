"use client";

const FijordLogo = () => (
  <svg width="109" height="54" viewBox="0 0 109 54" fill="none" xmlns="http://www.w3.org/2000/svg" className="h-14 w-auto text-foreground">
    <path d="M34.6914 20.9738L31.3892 17.6658L18.9455 17.6543L16 20.6286V20.7091H29.4965L16.2244 33.9927L18.376 36.1328L25.2048 29.2868V34.6313H25.268L28.156 31.7376L28.2078 26.301L31.6538 22.8607V36.3457H31.7401L34.6914 33.3944V20.9738Z" fill="currentColor" />
    <path d="M49.8852 33V21.0617H57.5087V22.716H51.9318V26.2122H56.4854V27.8324H51.9318V33H49.8852ZM58.7678 33V24.4556H60.8143V33H58.7678ZM59.7911 23.0571C59.4159 23.0571 59.1032 22.9434 58.8531 22.716C58.6143 22.4886 58.4949 22.2044 58.4949 21.8633C58.4949 21.5108 58.6143 21.2266 58.8531 21.0106C59.1032 20.7832 59.4159 20.6695 59.7911 20.6695C60.1663 20.6695 60.4733 20.7832 60.712 21.0106C60.9622 21.2266 61.0872 21.5108 61.0872 21.8633C61.0872 22.2044 60.9622 22.4886 60.712 22.716C60.4733 22.9434 60.1663 23.0571 59.7911 23.0571ZM61.0138 36.752V35.0125H61.696C62.0826 35.0125 62.3554 34.9329 62.5146 34.7737C62.6852 34.6259 62.7704 34.3644 62.7704 33.9892V24.4556H64.817V34.0062C64.817 34.6657 64.7033 35.1944 64.4759 35.5923C64.2485 36.0016 63.9245 36.2972 63.5038 36.4792C63.0945 36.6611 62.5999 36.752 62.02 36.752H61.0138ZM63.7937 23.0571C63.4185 23.0571 63.1115 22.9434 62.8728 22.716C62.634 22.4886 62.5146 22.2044 62.5146 21.8633C62.5146 21.5108 62.634 21.2266 62.8728 21.0106C63.1115 20.7832 63.4242 20.6695 63.8108 20.6695C64.186 20.6695 64.493 20.7832 64.7317 21.0106C64.9705 21.2266 65.0899 21.5108 65.0899 21.8633C65.0899 22.2044 64.9705 22.4886 64.7317 22.716C64.493 22.9434 64.1803 23.0571 63.7937 23.0571ZM70.627 33.2047C69.8198 33.2047 69.0864 33.0171 68.427 32.6419C67.7789 32.2666 67.2673 31.7436 66.8921 31.0728C66.5169 30.3906 66.3293 29.6118 66.3293 28.7363C66.3293 27.8381 66.5169 27.0536 66.8921 26.3828C67.2786 25.712 67.796 25.189 68.444 24.8138C69.1035 24.4386 69.8368 24.251 70.6441 24.251C71.4741 24.251 72.2131 24.4386 72.8612 24.8138C73.5093 25.189 74.0209 25.712 74.3961 26.3828C74.7713 27.0536 74.9589 27.8381 74.9589 28.7363C74.9589 29.6118 74.7713 30.3906 74.3961 31.0728C74.0209 31.7436 73.5036 32.2666 72.8442 32.6419C72.1961 33.0171 71.457 33.2047 70.627 33.2047ZM70.6441 31.448C71.0534 31.448 71.4229 31.3457 71.7527 31.141C72.0937 30.9364 72.3666 30.6351 72.5713 30.2371C72.7759 29.8278 72.8783 29.3219 72.8783 28.7193C72.8783 28.1167 72.7759 27.6164 72.5713 27.2185C72.378 26.8205 72.1108 26.5192 71.7697 26.3146C71.4286 26.1099 71.0591 26.0076 70.6612 26.0076C70.2632 26.0076 69.8937 26.1099 69.5526 26.3146C69.2115 26.5192 68.9386 26.8205 68.734 27.2185C68.5293 27.6164 68.427 28.1167 68.427 28.7193C68.427 29.3219 68.5293 29.8278 68.734 30.2371C68.9386 30.6351 69.2058 30.9364 69.5355 31.141C69.8766 31.3457 70.2462 31.448 70.6441 31.448ZM76.4507 33V24.4556H78.2755L78.4631 26.0587C78.6678 25.6722 78.9179 25.3481 79.2135 25.0866C79.5205 24.8138 79.8787 24.6091 80.288 24.4727C80.6973 24.3249 81.1521 24.251 81.6524 24.251V26.3998H80.9872C80.6348 26.3998 80.305 26.4453 79.9981 26.5363C79.6911 26.6159 79.4239 26.7523 79.1965 26.9456C78.9691 27.1275 78.7929 27.3833 78.6678 27.7131C78.5541 28.0428 78.4972 28.4521 78.4972 28.941V33H76.4507ZM86.3047 33.2047C85.5088 33.2047 84.7982 33.0114 84.1729 32.6248C83.5589 32.2382 83.07 31.7038 82.7062 31.0217C82.3537 30.3395 82.1775 29.572 82.1775 28.7193C82.1775 27.8552 82.3537 27.0877 82.7062 26.4169C83.07 25.7461 83.5646 25.2174 84.1899 24.8308C84.8266 24.4442 85.5486 24.251 86.3559 24.251C86.9926 24.251 87.5497 24.376 88.0272 24.6262C88.5161 24.8649 88.9027 25.206 89.1869 25.6494V20.7206H91.2335V33H89.4086L89.1869 31.755C89.0164 32.0051 88.8004 32.2439 88.5388 32.4713C88.2773 32.6873 87.9647 32.8636 87.6008 33C87.237 33.1364 86.805 33.2047 86.3047 33.2047ZM86.7481 31.431C87.237 31.431 87.6634 31.3173 88.0272 31.0899C88.4024 30.8511 88.6923 30.5328 88.897 30.1348C89.113 29.7255 89.221 29.2537 89.221 28.7193C89.221 28.1849 89.113 27.7187 88.897 27.3208C88.6923 26.9115 88.4024 26.5931 88.0272 26.3657C87.652 26.1383 87.22 26.0246 86.7311 26.0246C86.2649 26.0246 85.8442 26.1383 85.469 26.3657C85.0938 26.5931 84.7982 26.9115 84.5822 27.3208C84.3775 27.7187 84.2752 28.1849 84.2752 28.7193C84.2752 29.2537 84.3775 29.7255 84.5822 30.1348C84.7982 30.5328 85.0938 30.8511 85.469 31.0899C85.8442 31.3173 86.2706 31.431 86.7481 31.431Z" fill="currentColor" />
  </svg>
);

/** Illustrated product preview showing the evidence → problems → tickets flow */
function ProductPreview() {
  return (
    <div className="mt-16 overflow-hidden rounded-xl border border-border bg-card shadow-lg shadow-black/5">
      {/* Window chrome */}
      <div className="flex items-center gap-2 border-b border-border px-4 py-3">
        <span className="h-3 w-3 rounded-full bg-[#E8E6E1]" />
        <span className="h-3 w-3 rounded-full bg-[#E8E6E1]" />
        <span className="h-3 w-3 rounded-full bg-[#E8E6E1]" />
        <span className="ml-4 text-[11px] text-muted">fijord.app</span>
      </div>

      {/* 3-column layout */}
      <div className="grid grid-cols-1 gap-0 divide-y divide-border sm:grid-cols-3 sm:divide-x sm:divide-y-0">
        {/* Evidence column */}
        <div className="p-4">
          <div className="mb-3 flex items-center justify-between">
            <span className="text-[10px] font-semibold uppercase tracking-wider text-muted">Evidence</span>
            <span className="rounded-full bg-background px-2 py-0.5 text-[10px] text-muted">6 quotes</span>
          </div>
          {[
            { text: "Users are abandoning the onboarding flow...", color: "#C75B3A" },
            { text: "The search results don't match what people...", color: "#5B8C5A" },
            { text: "Mobile checkout is broken on Safari...", color: "#C75B3A" },
            { text: "We keep hearing the same complaint about...", color: "#7B68A8" },
          ].map((q, i) => (
            <div key={i} className="mb-2 rounded-lg bg-background p-2.5" style={{ borderLeft: `3px solid ${q.color}` }}>
              <p className="text-[11px] italic leading-relaxed text-foreground/70">{q.text}</p>
            </div>
          ))}
        </div>

        {/* Problems column */}
        <div className="p-4">
          <div className="mb-3 flex items-center justify-between">
            <span className="text-[10px] font-semibold uppercase tracking-wider text-muted">Problems</span>
            <span className="rounded-full bg-background px-2 py-0.5 text-[10px] text-muted">3 found</span>
          </div>
          {[
            { title: "Onboarding drop-off", severity: "High", sevBg: "#FEF2F2", sevColor: "#B91C1C", color: "#C75B3A" },
            { title: "Search relevance issues", severity: "Med", sevBg: "#FDF6E3", sevColor: "#B5860B", color: "#5B8C5A" },
            { title: "Notification fatigue", severity: "Low", sevBg: "#EFF6FF", sevColor: "#1D4ED8", color: "#7B68A8" },
          ].map((p, i) => (
            <div key={i} className="mb-2 overflow-hidden rounded-lg border border-border bg-white">
              <div className="flex">
                <div className="w-1 shrink-0" style={{ backgroundColor: p.color }} />
                <div className="p-2.5">
                  <div className="flex items-center gap-2">
                    <span className="h-1.5 w-1.5 rounded-full" style={{ backgroundColor: p.color }} />
                    <span className="text-[11px] font-medium text-foreground">{p.title}</span>
                    <span className="rounded px-1 py-0.5 text-[9px] font-semibold uppercase" style={{ backgroundColor: p.sevBg, color: p.sevColor }}>{p.severity}</span>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        {/* Tickets column */}
        <div className="p-4">
          <div className="mb-3 flex items-center justify-between">
            <span className="text-[10px] font-semibold uppercase tracking-wider text-muted">Tickets</span>
            <span className="rounded-full bg-background px-2 py-0.5 text-[10px] text-muted">5 tickets</span>
          </div>
          {[
            { id: "FJD-101", title: "Redesign onboarding wizard", priority: "High", priBg: "#FEF2F2", priColor: "#B91C1C", color: "#C75B3A" },
            { id: "FJD-102", title: "Add progress indicators to signup", priority: "High", priBg: "#FEF2F2", priColor: "#B91C1C", color: "#C75B3A" },
            { id: "FJD-103", title: "Improve search ranking algorithm", priority: "Med", priBg: "#FDF6E3", priColor: "#B5860B", color: "#5B8C5A" },
            { id: "FJD-104", title: "Add notification preferences panel", priority: "Low", priBg: "#EFF6FF", priColor: "#1D4ED8", color: "#7B68A8" },
          ].map((t, i) => (
            <div key={i} className="mb-2 rounded-lg border border-border bg-white p-2.5">
              <div className="mb-1 flex items-center gap-1.5">
                <span className="text-[10px] font-semibold text-muted">{t.id}</span>
                <span className="rounded px-1 py-0.5 text-[9px] font-semibold uppercase" style={{ backgroundColor: t.priBg, color: t.priColor }}>{t.priority}</span>
              </div>
              <p className="text-[11px] font-medium leading-snug text-foreground">{t.title}</p>
              <div className="mt-1 flex items-center gap-1">
                <span className="h-1.5 w-1.5 rounded-full" style={{ backgroundColor: t.color }} />
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

export default function Landing({ onEnter }: { onEnter: () => void }) {
  return (
    <div className="fixed inset-0 z-50 overflow-y-auto bg-background">
      <div className="mx-auto w-full max-w-[1100px] px-6">
        {/* Nav */}
        <nav className="flex items-center justify-between py-6">
          <FijordLogo />
          <button
            onClick={onEnter}
            className="rounded-lg bg-accent px-5 py-2.5 text-[14px] font-medium text-white transition-all hover:bg-accent/90"
          >
            Try it free
          </button>
        </nav>

        {/* Hero */}
        <section className="mx-auto max-w-[700px] pb-4 pt-20 text-center sm:pt-24">
          <p className="mb-5 text-lg leading-relaxed text-muted">
            You just had a great discovery call. Now you need to{" "}
            <s className="text-muted/60">transcribe the key points</s>,{" "}
            <s className="text-muted/60">identify the problems</s>,{" "}
            <s className="text-muted/60">write up solutions</s>, and{" "}
            <s className="text-muted/60">create tickets in Linear</s>...
          </p>
          <h1 className="mb-6 text-[36px] font-semibold leading-[1.15] tracking-tight text-foreground sm:text-[48px]">
            Or just let Fijord do it in 30 seconds
          </h1>
          <p className="mb-9 text-lg leading-relaxed text-muted">
            Paste your transcript. Get problems backed by evidence, solutions, and ready-to-ship tickets. Export to Linear or Jira with one click.
          </p>
          <button
            onClick={onEnter}
            className="inline-flex items-center gap-2.5 rounded-xl bg-accent px-8 py-4 text-base font-medium text-white shadow-lg shadow-accent/25 transition-all hover:bg-accent/90 hover:-translate-y-0.5"
          >
            Try Fijord free &rarr;
          </button>
        </section>

        {/* Product preview */}
        <ProductPreview />
      </div>

      {/* Before/After — full-width background, centered content */}
      <section className="mt-20">
        <div className="mx-auto w-full max-w-[1100px] px-6">
          <div className="grid items-stretch gap-0 sm:grid-cols-[1fr_60px_1fr]">
            {/* Before */}
            <div className="rounded-2xl border border-red-200 bg-red-50 p-8">
              <p className="mb-5 text-[11px] font-semibold uppercase tracking-widest text-red-800">Before Fijord</p>
              <ul className="flex flex-col gap-3.5">
                {[
                  "Re-watch call to find key moments",
                  "Copy quotes into a doc",
                  "Synthesize into problem statements",
                  "Write up potential solutions",
                  "Create tickets manually in Linear",
                  "Teammates ask \"why are we doing this?\"",
                ].map((item, i) => (
                  <li key={i} className="flex items-start gap-2.5 text-[15px] leading-relaxed">
                    <span className="mt-0.5 font-semibold text-red-600">&times;</span>
                    {item}
                  </li>
                ))}
              </ul>
            </div>

            {/* Arrow */}
            <div className="hidden items-center justify-center text-3xl text-muted sm:flex">&rarr;</div>
            <div className="flex items-center justify-center py-4 text-2xl text-muted sm:hidden">&darr;</div>

            {/* After */}
            <div className="rounded-2xl border border-green-200 bg-[#E8F0E8] p-8">
              <p className="mb-5 text-[11px] font-semibold uppercase tracking-widest text-accent">With Fijord</p>
              <ul className="flex flex-col gap-3.5">
                {[
                  "Paste transcript",
                  "Review AI-extracted problems",
                  "Check the evidence quotes",
                  "Export tickets to Linear or Jira",
                  "Tickets link back to full context",
                  "Done in under a minute",
                ].map((item, i) => (
                  <li key={i} className="flex items-start gap-2.5 text-[15px] leading-relaxed">
                    <span className="mt-0.5 font-semibold text-accent">&check;</span>
                    {item}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      </section>

      {/* Quote */}
      <section className="mx-auto w-full max-w-[1100px] px-6 py-20 text-center">
        <div className="mx-auto max-w-[700px]">
          <blockquote className="mb-6 text-xl italic leading-relaxed text-foreground sm:text-2xl">
            &ldquo;What speaks to me is the full lineage &mdash; from messy call data all the way to the ticket. When I wasn&apos;t in the meeting, I finally have context on why we&apos;re doing this.&rdquo;
          </blockquote>
          <p className="text-[15px] text-muted">
            <strong className="text-foreground">PM at Amazon</strong> &middot; Early beta user
          </p>
        </div>
      </section>

      {/* How it works */}
      <section className="border-y border-border bg-card py-20">
        <div className="mx-auto w-full max-w-[1100px] px-6">
          <div className="mx-auto max-w-[700px]">
            <h2 className="mb-12 text-center text-[28px] font-semibold text-foreground">How it works</h2>
            <div className="flex flex-col">
              {[
                { title: "Paste your transcript", desc: "From Granola, Otter, Fireflies, or just paste your notes. Any text works." },
                { title: "Review problems & evidence", desc: "Fijord extracts distinct problems and backs each one with direct quotes from the call." },
                { title: "Ship tickets", desc: "Export to Linear or Jira. Each ticket links back to Fijord so your team sees the full context." },
              ].map((step, i) => (
                <div key={i} className={`grid grid-cols-[48px_1fr] gap-6 py-6 ${i < 2 ? "border-b border-border" : ""}`}>
                  <div className="flex h-12 w-12 items-center justify-center rounded-full bg-accent text-lg font-semibold text-white">
                    {i + 1}
                  </div>
                  <div>
                    <h3 className="text-lg font-semibold text-foreground">{step.title}</h3>
                    <p className="mt-1.5 text-[15px] leading-relaxed text-muted">{step.desc}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Final CTA */}
      <section className="mx-auto w-full max-w-[1100px] px-6 py-20 text-center">
        <div className="mx-auto max-w-[600px]">
          <h2 className="mb-4 text-[28px] font-semibold text-foreground sm:text-[32px]">Stop doing busywork</h2>
          <p className="mb-8 text-[17px] leading-relaxed text-muted">
            Your job is to make good decisions, not transcribe calls and write tickets. Let Fijord handle the paperwork.
          </p>
          <button
            onClick={onEnter}
            className="inline-flex items-center gap-2.5 rounded-xl bg-accent px-9 py-4 text-[17px] font-medium text-white shadow-lg shadow-accent/25 transition-all hover:bg-accent/90 hover:-translate-y-0.5"
          >
            Try Fijord free &rarr;
          </button>
          <p className="mt-4 text-[13px] text-muted">No signup required &middot; Works with any transcript</p>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-8 text-center text-[13px] text-muted">
        &copy; 2025 Fijord
      </footer>
    </div>
  );
}
